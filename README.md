# Скачиваемы библиотеки Python как средство для анализа данных

Данный проект посвящён обзору на скачиваемым библиотекам Python для анализа и визуализации данных на примерах готовых датасетов:

1. [Pandas](https://habr.com/ru/companies/ruvds/articles/494720/)
2. [Matplotlib.pyplot](https://habr.com/ru/articles/468295/)
3. [SeaBorn](https://habr.com/ru/companies/otus/articles/540526/)
4. [Plotly](https://habr.com/ru/articles/502958/) 

По ссылкам представленным выше можно ознакомится с возможностями с каждой из библиотек более подробно

## Содержание 

- [Анализ готового датасет магазина](#Анализ)
    - [Подготовка к анализу данных](#Подготовка)
    - [Анализ и визуализация](#Визуализация)
- [Еще примеры по визуализации данных](#Примеры)
- [RFM-сегментация](#RFM-сегментация)
- [Плюсы использования скачиваемых библиотек Python как аналитической системы](#Плюсы)
- [Недостатки](#Недостатки)
- [Заключение](#Заключение)
	
## Анализ

Для анализа и визуализации данных будем использовать готовый датасет некоторого магазина с фиктивными данными. Датасет был скачен [Online retail dataset](https://datasetsearch.research.google.com/search?src=0&query=online%20retail&docid=L2cvMTF0c2g3YzlscA%3D%3D).

[Код анализа и визуализации данных этого датасета](https://github.com/filentati/Downloadable-Python-libraries-as-an-analytical-system/blob/main/data_analysis_store.ipynb)

### Подготовка
Для начала работа мы удаляем строки, которые содержат нулевые значения. Для этого мы используем методы из pandas. 
Следующим шагом анализируем выбросы. Для визуализация текущей ситуации используем методы из matplotlib.pyplot для создания фигуры (окна) с двумя подграфиками и из seaborn для построения диаграммы размаха [('ящика с усами')](https://habr.com/ru/articles/267123/).


### Визуализация

С помощью методов библиотеки pandas была получена более подробная информацию данных в датасети: какие есть колонки, какого типа данный содержатся в этих колонках, сколько памяти используется. Так же для столбцов с числовыми данным с помощью методов pandas были рассчитаны количества уникальных элементов в каждом из столбцов. А так же выведены статистические данные, такие как: среднее значение, минимальное и максимальное значения, межквартальный размах, стандартное отклонение.

С помощью методов библиотеки Matplotlib.pyplot была построена круговая диаграмма, показывающая в процентах количество покупок по странам. 

Но это далеко не все возможности этих библиотек. Также Matplotlib.pyplot позволяет строить тепловые диаграммы, гистограммы с указанием функции плотности распределения и многое другое.

## Примеры

Для построения визуализаций, представленных ниже, был использован [датасет с данными людьми, которые обращались в клинику по лечению рака](https://github.com/filentati/Downloadable-Python-libraries-as-an-analytical-system/blob/main/heart.csv). Датасет изначально был без выбросов и пропущенных строк, поэтому дополнительный анализ не проводился.

[Код построения визуализаций](https://github.com/filentati/Downloadable-Python-libraries-as-an-analytical-system/blob/main/data_analysis_heart.ipynb)

Были построенные с помощью Matplotlib.pyplot и SeaBorn
1) Диаграмма плотности распределения (Kernel Density Estimation plot, KDE plot) или иногда её называют диаграммой ядерной оценки плотности.
2) Гистограмму с функцией плотности распределения
3) И совмещенные тепловую диаграмму и гистограмму

Так же с помощью библиотеки plotly была построена диаграмма рассеяния. Одно из преимуществ диаграмм, полученных с помощью библиотеки plotly, - они являются интерактивными

## RFM-сегментация 

Так же скачиваемая библиотка pandas позволяет написать код для [RFM-сегментации](https://habr.com/ru/companies/mindbox/articles/420915/). Такая сегментации позволяет разделить клиентов на сигменты по таким критериям как: R(Recency) — насколько давно клиент сделал последний заказ. F (Frequency) — сколько всего заказов сделал клиент. M(Monetary) — сколько денег клиент потратил. 
Это позволяет проанализировать ситуацию. Для увеличения продаж выбираются "лучшие" клиенты (клиенты, которые часто делают покупки и которые тратят больше денег в нашем магазине) для совершения рассылки с вознаграждением. Например: предложение скидки.
А так же выбрать клиентов, которые давно не совершали покупки, но потратили много денег, чтоб с помощью рассылки напомнить о нашем магазине. 

С помощью метода groupby из модуля Pandas был построен датасет с параметрами Recency, Frequency, Monetary. 
Далее с помощью метода qcut из модуля Pandas мы делим на 4 группы клиентов по каждому из параметров Frequency, Monetary. Таким образом мы получаем 16 сегментов. По хорошему необходимо еще делать по параметру Recency, но в нашем датасети у всех клиентов дата последней покупки совпадает, поэтому они все попадают в один сегмент. 

После разделения на сегменты была построена круговая диаграмма количества клиентов в каждом из сегментов по параметру Monetary с помощью методов библиотеки Matplotlib.pyplot. По диаграмме можно заметить, что большинство клиентов находятся в 1 сегменте, то есть потратили небольшое количество денежных единиц в данном магазине. 

## Плюсы
1. Расширяемость: все библиотки, которые были представлены имеют открытый исходный код, что позволяет изучить их работу, модифицировать их и создавать собственные расширения.
2. Гибкость: библиотеки легко интегрируются друг с другом, что позволяет создавать комплексные аналитические конвейеры.
3. При достаточном знание машинного обучения, с помощью скачиваемый библиотек (которые не были приведены), можно расширить и оптимизировать анализ и визуализацию данных 
4. Экономическая эффективность: бесплатное использование

## Недостатки 

1. Необходимо обладать дополнительными знаниями: математической статистики, библиотек питона, отладки кодов
2. Управление зависимостями: конфликты версий, управление виртуальными окружениями, зависимости от внешних ресурсов

## Заключение 
В целом, преимущества использования скачиваемых библиотек Python для аналитических задач значительно перевешивают недостатки, особенно для проектов, требующих высокой эффективности, гибкости и расширяемости.
